#!/bin/bash
sudo -u postgres psql -d kriging_city_development -f dbfile6.sql
sudo -u postgres psql -d kriging_city_development -c 'insert into schools(identifier,longitude,latitude,code,nomeesc,created_at,updated_at) select id,cast(longitude as numeric),cast(latitude as numeric),codesctx,nomeesc,now(),now() from esc2013_rmsp_cem;'
sudo -u postgres psql -d kriging_city_development -c 'insert into schoolbs(idschool, longitude, latitude, codesc, codesctx, nomeesc, nomemun, codmun, nomdist, coddist, cod_sc, cod_dep, tip_dep, bairro, cep, end_esc, num_esc, ddd, telefone, localiza, lab_inf, qd_esp_c, qd_esp_d, biblio, ens_reg, reg_in_cr, reg_in_pe, reg_fu_8a, reg_fu_9a, reg_med, reg_med_i, reg_med_n, reg_med_p, ens_esp, esp_in_cr, esp_in_pe, esp_fu_8a, esp_fu_9a, esp_med, esp_med_i, esp_med_n, esp_med_p, esp_eja_f, esp_eja_m, eja, eja_fund, eja_med, eja_proj, ap5ef_07, ap9ef_07, ap3em_07, ab1em_07, ap5ef_08, ap9ef_08, ap3em_08, ab1em_08, ap5ef_09, ap9ef_09, ap3em_09, ab1em_09, ap5ef_10, ap9ef_10, ap3em_10, ab1em_10, ap5ef_11, ap9ef_11, apr3em_11, ab1em_11, ap5ef_12, ap9ef_12, ap3em_12, ab1em_12, ap5ef_13, ap9ef_13, ap3em_13, ab1em_13, ap5ef_14, ap9ef_14, ap3em_14, ab1em_14, di3em_07, di3em_08, di3em_09, di3em_10, di3em_11, di3em_12, di3em_13, di3em_14, mat05_ai, lp05_ai, np05_ai, mat07_ai, lp07_ai, np07_ai, mat09_ai, lp09_ai, np09_ai, mat11_ai, lp11_ai, np11_ai, mat13_ai, lp13_ai, np13_ai, ideb05ai, ideb07ai, ideb09ai, ideb11ai, ideb13ai, mat05_af, lp05_af, np05_af, mat07_af, lp07_af, np07_af, mat09_af, lp09_af, np09_af, mat11_af, lp11_af, np11_af, mat13_af, lp13_af, np13_af, ideb05af, ideb07af, ideb09af, ideb11af, ideb13af, red_en13, lc_en13, mat_en13, ch_en13, cn_en13, enem2013, inse_ab, inse_cl,created_at,updated_at) select id,cast(longitude as numeric),cast(latitude as numeric),cast( codesc as numeric),codesctx,nomeesc,nomemun,cast( codmun as numeric),nomdist,cast( coddist as numeric),cast( cod_sc as numeric),cod_dep, tip_dep, bairro,cep, end_esc,num_esc, ddd, telefone,cast( localiza as numeric),cast( lab_inf as numeric),cast( qd_esp_c as numeric),cast( qd_esp_d as numeric),cast( biblio as numeric),cast( ens_reg as numeric),cast( reg_in_cr as numeric),cast( reg_in_pe as numeric),cast( reg_fu_8a as numeric),cast( reg_fu_9a as numeric),cast( reg_med as numeric),cast( reg_med_i as numeric),cast( reg_med_n as numeric),cast( reg_med_p as numeric),cast( ens_esp as numeric),cast( esp_in_cr as numeric),cast( esp_in_pe as numeric),cast( esp_fu_8a as numeric),cast( esp_fu_9a as numeric),cast( esp_med as numeric),cast( esp_med_i as numeric),cast( esp_med_n as numeric),cast( esp_med_p as numeric),cast( esp_eja_f as numeric),cast( esp_eja_m as numeric),cast( eja as numeric),cast( eja_fund as numeric),cast( eja_med as numeric),cast( eja_proj as numeric),cast( ap5ef_07 as numeric),cast( ap9ef_07 as numeric),cast( ap3em_07 as numeric),cast( ab1em_07 as numeric),cast( ap5ef_08 as numeric),cast( ap9ef_08 as numeric),cast( ap3em_08 as numeric),cast( ab1em_08 as numeric),cast( ap5ef_09 as numeric),cast( ap9ef_09 as numeric),cast( ap3em_09 as numeric),cast( ab1em_09 as numeric),cast( ap5ef_10 as numeric),cast( ap9ef_10 as numeric),cast( ap3em_10 as numeric),cast( ab1em_10 as numeric),cast( ap5ef_11 as numeric),cast( ap9ef_11 as numeric),cast( apr3em_11 as numeric),cast( ab1em_11 as numeric),cast( ap5ef_12 as numeric),cast( ap9ef_12 as numeric),cast( ap3em_12 as numeric),cast( ab1em_12 as numeric),cast( ap5ef_13 as numeric),cast( ap9ef_13 as numeric),cast( ap3em_13 as numeric),cast( ab1em_13 as numeric),cast( ap5ef_14 as numeric),cast( ap9ef_14 as numeric),cast( ap3em_14 as numeric),cast( ab1em_14 as numeric),cast( di3em_07 as numeric),cast( di3em_08 as numeric),cast( di3em_09 as numeric),cast( di3em_10 as numeric),cast( di3em_11 as numeric),cast( di3em_12 as numeric),cast( di3em_13 as numeric),cast( di3em_14 as numeric),cast( mat05_ai as numeric),cast( lp05_ai as numeric),cast( np05_ai as numeric),cast( mat07_ai as numeric),cast( lp07_ai as numeric),cast( np07_ai as numeric),cast( mat09_ai as numeric),cast( lp09_ai as numeric),cast( np09_ai as numeric),cast( mat11_ai as numeric),cast( lp11_ai as numeric),cast( np11_ai as numeric),cast( mat13_ai as numeric),cast( lp13_ai as numeric),cast( np13_ai as numeric),cast( ideb05ai as numeric),cast( ideb07ai as numeric),cast( ideb09ai as numeric),cast( ideb11ai as numeric),cast( ideb13ai as numeric),cast( mat05_af as numeric),cast( lp05_af as numeric),cast( np05_af as numeric),cast( mat07_af as numeric),cast( lp07_af as numeric),cast( np07_af as numeric),cast( mat09_af as numeric),cast( lp09_af as numeric),cast( np09_af as numeric),cast( mat11_af as numeric),cast( lp11_af as numeric),cast( np11_af as numeric),cast( mat13_af as numeric),cast( lp13_af as numeric),cast( np13_af as numeric),cast( ideb05af as numeric),cast( ideb07af as numeric),cast( ideb09af as numeric),cast( ideb11af as numeric),cast( ideb13af as numeric),cast( red_en13 as numeric),cast( lc_en13 as numeric),cast( mat_en13 as numeric),cast( ch_en13 as numeric),cast( cn_en13 as numeric),cast( enem2013 as numeric),cast( inse_ab as numeric),inse_cl,now(),now()  from esc2013_rmsp_cem;'
#
#
#id, longitude, latitude, codesc, codesctx, nomeesc, nomemun, codmun, nomdist, coddist, cod_sc, cod_dep, tip_dep, bairro, cep, end_esc, num_esc, ddd, telefone, localiza, lab_inf, qd_esp_c, qd_esp_d, biblio, ens_reg, reg_in_cr, reg_in_pe, reg_fu_8a, reg_fu_9a, reg_med, reg_med_i, reg_med_n, reg_med_p, ens_esp, esp_in_cr, esp_in_pe, esp_fu_8a, esp_fu_9a, esp_med, esp_med_i, esp_med_n, esp_med_p, esp_eja_f, esp_eja_m, eja, eja_fund, eja_med, eja_proj, ap5ef_07, ap9ef_07, ap3em_07, ab1em_07, ap5ef_08, ap9ef_08, ap3em_08, ab1em_08, ap5ef_09, ap9ef_09, ap3em_09, ab1em_09, ap5ef_10, ap9ef_10, ap3em_10, ab1em_10, ap5ef_11, ap9ef_11, apr3em_11, ab1em_11, ap5ef_12, ap9ef_12, ap3em_12, ab1em_12, ap5ef_13, ap9ef_13, ap3em_13, ab1em_13, ap5ef_14, ap9ef_14, ap3em_14, ab1em_14, di3em_07, di3em_08, di3em_09, di3em_10, di3em_11, di3em_12, di3em_13, di3em_14, mat05_ai, lp05_ai, np05_ai, mat07_ai, lp07_ai, np07_ai, mat09_ai, lp09_ai, np09_ai, mat11_ai, lp11_ai, np11_ai, mat13_ai, lp13_ai, np13_ai, ideb05ai, ideb07ai, ideb09ai, ideb11ai, ideb13ai, mat05_af, lp05_af, np05_af, mat07_af, lp07_af, np07_af, mat09_af, lp09_af, np09_af, mat11_af, lp11_af, np11_af, mat13_af, lp13_af, np13_af, ideb05af, ideb07af, ideb09af, ideb11af, ideb13af, red_en13, lc_en13, mat_en13, ch_en13, cn_en13, enem2013, inse_ab, inse_cl
#
#identifier,longitude,latitude,code,nomeesc,created_at,updated_at) select id,cast(longitude as numeric),cast(latitude as numeric),codesctx,nomeesc,now(),now() from esc2013_rmsp_cem;'
#
#
#idSchool,cast(longitude as numeric),cast(latitude as numeric),cast( codesc as numeric),codesctx,nomeesc,nomemun,cast( codmun as numeric),nomdist,cast( coddist as numeric),cast( cod_sc as numeric),cod_dep, tip_dep, bairro,cep, end_esc,num_esc, ddd, telefone,cast( localiza as numeric),cast( lab_inf as numeric),cast( qd_esp_c as numeric),cast( qd_esp_d as numeric),cast( biblio as numeric),cast( ens_reg as numeric),cast( reg_in_cr as numeric),cast( reg_in_pe as numeric),cast( reg_fu_8a as numeric),cast( reg_fu_9a as numeric),cast( reg_med as numeric),cast( reg_med_i as numeric),cast( reg_med_n as numeric),cast( reg_med_p as numeric),cast( ens_esp as numeric),cast( esp_in_cr as numeric),cast( esp_in_pe as numeric),cast( esp_fu_8a as numeric),cast( esp_fu_9a as numeric),cast( esp_med as numeric),cast( esp_med_i as numeric),cast( esp_med_n as numeric),cast( esp_med_p as numeric),cast( esp_eja_f as numeric),cast( esp_eja_m as numeric),cast( eja as numeric),cast( eja_fund as numeric),cast( eja_med as numeric),cast( eja_proj as numeric),cast( ap5ef_07 as numeric),cast( ap9ef_07 as numeric),cast( ap3em_07 as numeric),cast( ab1em_07 as numeric),cast( ap5ef_08 as numeric),cast( ap9ef_08 as numeric),cast( ap3em_08 as numeric),cast( ab1em_08 as numeric),cast( ap5ef_09 as numeric),cast( ap9ef_09 as numeric),cast( ap3em_09 as numeric),cast( ab1em_09 as numeric),cast( ap5ef_10 as numeric),cast( ap9ef_10 as numeric),cast( ap3em_10 as numeric),cast( ab1em_10 as numeric),cast( ap5ef_11 as numeric),cast( ap9ef_11 as numeric),cast( apr3em_11 as numeric),cast( ab1em_11 as numeric),cast( ap5ef_12 as numeric),cast( ap9ef_12 as numeric),cast( ap3em_12 as numeric),cast( ab1em_12 as numeric),cast( ap5ef_13 as numeric),cast( ap9ef_13 as numeric),cast( ap3em_13 as numeric),cast( ab1em_13 as numeric),cast( ap5ef_14 as numeric),cast( ap9ef_14 as numeric),cast( ap3em_14 as numeric),cast( ab1em_14 as numeric),cast( di3em_07 as numeric),cast( di3em_08 as numeric),cast( di3em_09 as numeric),cast( di3em_10 as numeric),cast( di3em_11 as numeric),cast( di3em_12 as numeric),cast( di3em_13 as numeric),cast( di3em_14 as numeric),cast( mat05_ai as numeric),cast( lp05_ai as numeric),cast( np05_ai as numeric),cast( mat07_ai as numeric),cast( lp07_ai as numeric),cast( np07_ai as numeric),cast( mat09_ai as numeric),cast( lp09_ai as numeric),cast( np09_ai as numeric),cast( mat11_ai as numeric),cast( lp11_ai as numeric),cast( np11_ai as numeric),cast( mat13_ai as numeric),cast( lp13_ai as numeric),cast( np13_ai as numeric),cast( ideb05ai as numeric),cast( ideb07ai as numeric),cast( ideb09ai as numeric),cast( ideb11ai as numeric),cast( ideb13ai as numeric),cast( mat05_af as numeric),cast( lp05_af as numeric),cast( np05_af as numeric),cast( mat07_af as numeric),cast( lp07_af as numeric),cast( np07_af as numeric),cast( mat09_af as numeric),cast( lp09_af as numeric),cast( np09_af as numeric),cast( mat11_af as numeric),cast( lp11_af as numeric),cast( np11_af as numeric),cast( mat13_af as numeric),cast( lp13_af as numeric),cast( np13_af as numeric),cast( ideb05af as numeric),cast( ideb07af as numeric),cast( ideb09af as numeric),cast( ideb11af as numeric),cast( ideb13af as numeric),cast( red_en13 as numeric),cast( lc_en13 as numeric),cast( mat_en13 as numeric),cast( ch_en13 as numeric),cast( cn_en13 as numeric),cast( enem2013 as numeric),cast( inse_ab as numeric),inse_cl



#TO PUBLIC IN HEROKU
PGPASSWORD=kriging_city_pass pg_dump -Fc --no-acl --no-owner -h localhost -U kriging_city_user kriging_city_development > mydb.dump
#PUSH (uncomment and change USER for your USERNAME)
#scp mydb.dump USER@shell.vision.ime.usp.br:~/www/tmp/mydb.dump
#heroku pg:backups:restore 'http://www.vision.ime.usp.br/~USER/tmp/mydb.dump' DATABASE_URL